(this["webpackJsonpimage-cropper"]=this["webpackJsonpimage-cropper"]||[]).push([[0],{14:function(e,t,n){e.exports=n(24)},19:function(e,t,n){},20:function(e,t,n){},24:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(9),c=n.n(i),o=(n(19),n(20),n(5)),l=n.n(o),u=n(10),s=n(3),d=n(1),m=n(2);function h(){var e=Object(d.a)(["\n  margin: 20px;\n"]);return h=function(){return e},e}var p=m.a.canvas(h());var g=function(e){var t=e.data,n=e.showCroppedFile;return r.a.createElement("div",null,[0,1,2,3].map((function(e){return r.a.createElement("div",{hidden:!n,key:e+100},r.a.createElement("h3",{key:e+1e3},"Cropped Image: ".concat(t[e].width," x ").concat(t[e].height)),r.a.createElement(p,{id:"img-canvas-".concat(e),key:e,className:"canvas"}))})))};function f(){var e=Object(d.a)(["\n  margin: 20px;\n"]);return f=function(){return e},e}var v=m.a.img(f());var E=function(e){var t=e.data;return r.a.createElement("div",null,t.map((function(e,t){var n=e.url;return r.a.createElement("div",{key:t+10},r.a.createElement(v,{key:t,src:n,alt:n}),r.a.createElement("h5",{key:t+100},n),r.a.createElement("br",{key:t+1e3}))})))};function y(){var e=Object(d.a)(["\n  background-color: lightblue;\n  padding: 10px;\n  margin: 20px;\n"]);return y=function(){return e},e}function b(){var e=Object(d.a)(["\n  margin: 50px;\n  padding: 30px;\n  border: 1px solid grey;\n"]);return b=function(){return e},e}var w=m.a.div(b()),x=m.a.button(y());var j=function(){var e=Object(a.useState)(null),t=Object(s.a)(e,2),n=t[0],i=t[1],c=Object(a.useState)([]),o=Object(s.a)(c,2),d=o[0],m=o[1],h=Object(a.useState)([]),p=Object(s.a)(h,2),f=p[0],v=p[1],y=Object(a.useState)(!1),b=Object(s.a)(y,2),j=b[0],O=b[1],k=Object(a.useState)(!1),I=Object(s.a)(k,2),C=I[0],S=I[1],W=[{sx:0,sy:0,sWidth:755,sHeight:450,x:0,y:0,width:755,height:450},{sx:755,sy:0,sWidth:212,sHeight:365,x:0,y:0,width:212,height:365},{sx:0,sy:450,sWidth:365,sHeight:450,x:0,y:0,width:365,height:450},{sx:356,sy:450,sWidth:380,sHeight:480,x:0,y:0,width:380,height:380}],U=function(e,t){var n=[];[0,1,2,3].forEach((function(t){return n.push(function(e,t,n){var a=document.getElementById("".concat("img-canvas-",e));if(a){var r=new Image;return r.src=t,a.width=n.width,a.height=n.height,a.getContext("2d").drawImage(r,W[e].sx,W[e].sy,W[e].sWidth,W[e].sHeight,W[e].x,W[e].y,W[e].width,W[e].height),a.toDataURL("image/jpeg",1)}}(t,e,{width:W[t].width,height:W[t].height}))})),O(!0),m(n)},H=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/base64/images",e.next=3,fetch("/api/base64/images",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({imgs:t})});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(w,null,C?r.a.createElement("div",null,r.a.createElement("h3",null,"Uploaded Images"),r.a.createElement(E,{data:f})):r.a.createElement("div",{hidden:!j},r.a.createElement(x,{type:"primary",onClick:function(){if(!d&&!d.length)return alert("Error uploading images");H(d).then((function(e){return e.json()})).then((function(e){v(e.data),S(!0)})).catch((function(e){alert(e)}))}},"Upload Cropped Images"),r.a.createElement(g,{data:W,showCroppedFile:j})),!j&&r.a.createElement("div",null,r.a.createElement("h2",null,"Crop Image"),r.a.createElement("span",null,"Upload a file: "),r.a.createElement("input",{id:"upload-file",type:"file",accept:"image/*",onChange:function(e){var t=URL.createObjectURL(e.target.files[0]),n=new Image;n.src=t,setTimeout((function(){if(1024!==n.width&&1024!==n.height)return alert("Image should be exactly 1024 x 1024."),void(document.getElementById("upload-file").value="");i(n.src)}),1e3)}}),n&&r.a.createElement("div",null,r.a.createElement(x,{type:"primary",onClick:function(){return U(n)}},"View Cropped Images"),r.a.createElement("br",null),r.a.createElement("h4",null,"Original Image (1024 x 1024)"),r.a.createElement("div",null,r.a.createElement("img",{id:"img-uploaded",src:n,alt:"original"})),r.a.createElement("br",null))))};var O=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(j,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(O,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[14,1,2]]]);
//# sourceMappingURL=main.7b3f3f1b.chunk.js.map