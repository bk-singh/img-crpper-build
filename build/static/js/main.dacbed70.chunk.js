(this["webpackJsonpimage-cropper"]=this["webpackJsonpimage-cropper"]||[]).push([[0],{27:function(e,t,a){e.exports=a(42)},32:function(e,t,a){},33:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(21),c=a.n(i),o=(a(32),a(13)),l=(a(33),a(1)),u=a(14),s=a.n(u),h=a(22),d=a(9),m=a(6),p=a(7);function g(){var e=Object(m.a)(["\n  margin: 20px;\n"]);return g=function(){return e},e}var f=p.a.canvas(g());var v=function(e){var t=e.data,a=e.showCroppedFile;return r.a.createElement("div",null,[0,1,2,3].map((function(e){return r.a.createElement("div",{key:e+100,hidden:!a},r.a.createElement("h3",{key:e+1e3},"Cropped Image: ".concat(t[e].width," x ").concat(t[e].height)),r.a.createElement(f,{id:"img-canvas-".concat(e),key:e,className:"canvas"}))})))};function E(){var e=Object(m.a)(["\n  margin: 20px;\n"]);return E=function(){return e},e}var y=p.a.img(E());var b=function(e){var t=e.data;return t&&r.a.createElement("div",null,r.a.createElement("h3",null,"Uploaded Images"),t.map((function(e,t){var a=e.url;return r.a.createElement("div",{key:t+10},r.a.createElement(y,{key:t,src:a,alt:a}),r.a.createElement("h5",{key:t+100},a),r.a.createElement("br",{key:t+1e3}))})))};function w(){var e=Object(m.a)(["\n  background-color: lightblue;\n  padding: 10px;\n  margin: 20px;\n"]);return w=function(){return e},e}function x(){var e=Object(m.a)(["\n  margin: 50px;\n  padding: 30px;\n  border: 1px solid grey;\n"]);return x=function(){return e},e}var j=p.a.div(x()),O=p.a.button(w());var k=function(e){var t=e.history,a=e.data,i=Object(n.useState)(null),c=Object(d.a)(i,2),o=c[0],l=c[1],u=Object(n.useState)([]),m=Object(d.a)(u,2),p=m[0],g=m[1],f=Object(n.useState)([]),E=Object(d.a)(f,2),y=E[0],w=E[1],x=Object(n.useState)(!1),k=Object(d.a)(x,2),I=k[0],C=k[1],S=Object(n.useState)(!1),W=Object(d.a)(S,2),U=W[0],H=W[1],B=function(e,n){var r=[];[0,1,2,3].forEach((function(t){return r.push(function(e,t,n){var r=document.getElementById("".concat("img-canvas-",e));if(r){var i=new Image;return i.src=t,r.width=n.width,r.height=n.height,r.getContext("2d").drawImage(i,a[e].sx,a[e].sy,a[e].sWidth,a[e].sHeight,a[e].x,a[e].y,a[e].width,a[e].height),r.toDataURL("image/jpeg",1)}}(t,e,{width:a[t].width,height:a[t].height}))})),g(r),C(!0),L(t,"/preview/")},J=function(){var e=Object(h.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/base64/images",e.next=3,fetch("/api/base64/images",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({imgs:t})});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(e,t){e.push(t)};return r.a.createElement(j,null,U?r.a.createElement(b,{data:y}):r.a.createElement("div",{hidden:!I},r.a.createElement(O,{type:"primary",onClick:function(){if(!p&&!p.length)return alert("Error uploading images");J(p).then((function(e){return e.json()})).then((function(e){w(e.data),H(!0),L(t,"/list/")})).catch((function(e){alert(e)}))}},"Upload Cropped Images"),r.a.createElement(v,{data:a,showCroppedFile:I})),!I&&r.a.createElement("div",null,r.a.createElement("h2",null,"Crop Image"),r.a.createElement("span",null,"Upload a file: "),r.a.createElement("input",{id:"upload-file",type:"file",accept:"image/*",onChange:function(e){var t=URL.createObjectURL(e.target.files[0]),a=new Image;a.src=t,setTimeout((function(){if(1024!==a.width&&1024!==a.height)return alert("Image should be exactly 1024 x 1024."),void(document.getElementById("upload-file").value="");l(a.src)}),1e3)}}),o&&r.a.createElement("div",null,r.a.createElement(O,{type:"primary",onClick:function(){return B(o)}},"View Cropped Images"),r.a.createElement("br",null),r.a.createElement("h4",null,"Original Image (1024 x 1024)"),r.a.createElement("div",null,r.a.createElement("img",{id:"img-uploaded",src:o,alt:"original"})),r.a.createElement("br",null))))};var I=function(){var e=[{sx:0,sy:0,sWidth:755,sHeight:450,x:0,y:0,width:755,height:450},{sx:755,sy:0,sWidth:212,sHeight:365,x:0,y:0,width:212,height:365},{sx:0,sy:450,sWidth:365,sHeight:450,x:0,y:0,width:365,height:450},{sx:356,sy:450,sWidth:380,sHeight:480,x:0,y:0,width:380,height:380}];return r.a.createElement(l.c,null,r.a.createElement(l.a,{path:"/preview/",exact:!0,render:function(t){return r.a.createElement(k,{history:t.history,data:e})}}),r.a.createElement(l.a,{path:"/list/",exact:!0,render:function(t){return r.a.createElement(k,{history:t.history,data:e})}}),r.a.createElement(l.a,{path:"/",render:function(t){return r.a.createElement(k,{history:t.history,data:e})}}))};var C=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(o.a,null,r.a.createElement(I,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[27,1,2]]]);
//# sourceMappingURL=main.dacbed70.chunk.js.map